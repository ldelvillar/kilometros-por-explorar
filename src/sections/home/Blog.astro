---
import { getCollection } from 'astro:content';
import BlogCard from '@/components/BlogCard.astro';

const posts = await getCollection('blog');
const recentPosts = posts
  .sort((a, b) => (a.data.date > b.data.date ? -1 : 1))
  .slice(0, 3);
---

<section class="max-w-7xl mx-auto px-4 py-16">
  <h2 class="text-3xl font-bold text-gray-800 mb-8">Explora nuestro blog</h2>

  <div class="grid md:grid-cols-3 gap-6">
    {recentPosts.map(post => <BlogCard post={post} loading="lazy" />)}
  </div>
</section>
