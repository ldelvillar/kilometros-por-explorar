---
import Layout from '@/layouts/Layout.astro';
import ContactForm from '@/components/ContactForm.astro';
import Envelope from '@/assets/envelope.svg';
import Phone from '@/assets/phone.svg';
import Location from '@/assets/location.svg';
import Clock from '@/assets/clock.svg';
import { getWebPageSchema, getCombinedSchema } from '@/config/schemas';
import { SITE_CONFIG } from '@/config/site';

const title = 'Contacto - Kilómetros por explorar';
const description =
  'Ponte en contacto con nosotros para planificar tu próximo viaje. Estamos aquí para ayudarte a hacer realidad tu aventura soñada.';
const pathname = '/contact';

// Schema configuration
const pageSchema = getWebPageSchema(title, description, pathname);
const schema = getCombinedSchema(pageSchema);
---

<Layout title={title} description={description} schema={schema}>
  <main class="animate-fade-in-up">
    <!-- Hero Section -->
    <section class="pt-8 pb-12 md:pt-24 md:pb-16 px-4">
      <div class="max-w-6xl mx-auto">
        <h1 class="text-4xl md:text-5xl font-bold text-gray-900 mb-6">
          Contacta con Nosotros
        </h1>
        <p class="text-lg text-gray-600">
          Estamos aquí para ayudarte a planificar las vacaciones de tus sueños.
          Contáctanos con cualquier pregunta o para comenzar a planificar tu
          viaje.
        </p>
      </div>
    </section>

    <!-- Contact Content -->
    <section class="pb-16 px-4">
      <div class="max-w-6xl mx-auto">
        <!-- Google Maps Embed -->
        <div class="mb-16 relative h-96 rounded-xl overflow-hidden shadow-lg">
          <iframe
            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d193595.15830869428!2d-3.9244243!3d40.4167754!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0xd422997800a3c81%3A0xc436dec1618c2269!2sMadrid%2C%20Spain!5e0!3m2!1sen!2sus!4v1696234567890!5m2!1sen!2sus"
            width="100%"
            height="100%"
            style="border:0;"
            allowfullscreen=""
            loading="eager"
            referrerpolicy="no-referrer-when-downgrade"
            title="Nuestra ubicación en Madrid, España"
            class="absolute inset-0"></iframe>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-2 gap-16">
          <!-- Contact Information -->
          <div>
            <h2 class="text-3xl font-bold text-gray-900 mb-8">
              Información de Contacto
            </h2>

            <div class="space-y-8">
              <div class="flex items-start space-x-4">
                <div
                  class="flex-shrink-0 w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center"
                >
                  <Envelope class="size-6 text-primary" />
                </div>
                <div>
                  <h3 class="text-xl font-semibold text-gray-900 mb-2">
                    Email
                  </h3>
                  <p class="text-gray-600">{SITE_CONFIG.company.email}</p>
                </div>
              </div>

              <div class="flex items-start space-x-4">
                <div
                  class="flex-shrink-0 w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center"
                >
                  <Phone class="size-6 text-primary" />
                </div>
                <div>
                  <h3 class="text-xl font-semibold text-gray-900 mb-2">
                    Teléfonos
                  </h3>
                  <p class="text-gray-600">{SITE_CONFIG.company.phone}</p>
                  <p class="text-gray-600">{SITE_CONFIG.company.phone2}</p>
                </div>
              </div>

              <div class="flex items-start space-x-4">
                <div
                  class="flex-shrink-0 w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center"
                >
                  <Location class="size-6 text-primary" />
                </div>
                <div>
                  <h3 class="text-xl font-semibold text-gray-900 mb-2">
                    Ubicación
                  </h3>
                  <p class="text-gray-600">Madrid, España</p>
                  <p class="text-gray-600">Disponemos de consultas virtuales</p>
                </div>
              </div>

              <div class="flex items-start space-x-4">
                <div
                  class="flex-shrink-0 w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center"
                >
                  <Clock class="w-6 h-6 text-primary" />
                </div>
                <div>
                  <h3 class="text-xl font-semibold text-gray-900 mb-2">
                    Horarios
                  </h3>
                  <p class="text-gray-600">Lunes - Viernes: 9:00 - 18:00</p>
                  <p class="text-gray-600">Sábados: 10:00 - 14:00</p>
                  <p class="text-gray-600">Domingos: Cerrado</p>
                </div>
              </div>
            </div>
          </div>

          <!-- Contact Form -->
          <div>
            <h2 class="text-3xl font-bold text-gray-900 mb-8">
              Solicitud de Información
            </h2>

            <ContactForm />
          </div>
        </div>

        <!-- Additional Info -->
        <div class="mt-16 grid grid-cols-1 md:grid-cols-3 gap-8">
          <div class="text-center p-6 bg-gray-50 rounded-xl">
            <div
              class="w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center mx-auto mb-4"
            >
              <svg
                class="w-6 h-6 text-primary"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M13 10V3L4 14h7v7l9-11h-7z"></path>
              </svg>
            </div>
            <h3 class="text-xl font-semibold text-gray-900 mb-2">
              Respuesta Rápida
            </h3>
            <p class="text-gray-600">
              Respondemos todas las consultas en menos de 24 horas
            </p>
          </div>

          <div class="text-center p-6 bg-gray-50 rounded-xl">
            <div
              class="w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center mx-auto mb-4"
            >
              <svg
                class="w-6 h-6 text-primary"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
              </svg>
            </div>
            <h3 class="text-xl font-semibold text-gray-900 mb-2">
              Asesoramiento Gratuito
            </h3>
            <p class="text-gray-600">
              Primera consulta y planificación inicial sin coste
            </p>
          </div>

          <div class="text-center p-6 bg-gray-50 rounded-xl">
            <div
              class="w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center mx-auto mb-4"
            >
              <svg
                class="w-6 h-6 text-primary"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"
                ></path>
              </svg>
            </div>
            <h3 class="text-xl font-semibold text-gray-900 mb-2">
              Experiencia Personal
            </h3>
            <p class="text-gray-600">
              Todos nuestros destinos los hemos visitado personalmente
            </p>
          </div>
        </div>
      </div>
    </section>
  </main>
</Layout>

<script>
  // Form handling
  const form = document.querySelector('form');

  form?.addEventListener('submit', function (e) {
    e.preventDefault();

    // Get form data
    const formData = new FormData(this);
    const data = Object.fromEntries(formData);

    // Simple validation
    if (!data.name || !data.email || !data.message) {
      alert('Por favor, completa todos los campos obligatorios.');
      return;
    }

    if (!data.privacy) {
      alert('Debes aceptar la política de privacidad para continuar.');
      return;
    }

    // Here you would normally send the data to your backend
    alert('¡Gracias por tu mensaje! Te contactaremos pronto.');

    // Reset form
    this.reset();
  });
</script>
