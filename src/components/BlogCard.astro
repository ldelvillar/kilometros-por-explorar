---
import { Image } from 'astro:assets';
import type { CollectionEntry } from 'astro:content';
import HalfArrow from '@/assets/halfArrow.svg';
import Arrow from '@/assets/arrow.svg';

interface Props {
  post: CollectionEntry<'blog'>;
  loading: 'eager' | 'lazy';
}

const { post, loading } = Astro.props;
---

<article class="group h-full bg-white rounded-2xl shadow-lg overflow-hidden">
  <a href={`/blog/${post.id.replace('.md', '')}`} class="flex flex-col h-full">
    <div class="h-52 overflow-hidden">
      <Image
        src={post.data.image}
        width="600"
        height="600"
        alt={post.data.title}
        class="h-full w-full object-cover transition-transform duration-700 ease-out group-hover:scale-110"
        loading={loading}
      />
    </div>

    <div class="p-6 flex flex-col flex-1 text-start">
      <h2 class="font-bold text-2xl text-primary mb-4">
        {post.data.title}
      </h2>
      <p class="text-neutral-800 mb-4 flex-1">
        {post.data.description}
      </p>
      <div
        class="flex items-center justify-between text-sm text-neutral-500 mb-2"
      >
        <span>
          {
            new Date(post.data.date).toLocaleDateString('es-ES', {
              day: '2-digit',
              month: 'short',
              year: 'numeric',
            })
          }
        </span>
        <span class="capitalize">{post.data.author}</span>
      </div>
      <div class="flex items-center gap-2 font-semibold text-primary">
        <span>Leer m√°s</span>
        <div class="relative size-4">
          <HalfArrow
            class="size-4 absolute inset-0 transition-opacity duration-300 group-hover:opacity-0"
          />
          <Arrow
            class="size-4 absolute inset-0 transition-all duration-300 opacity-0 group-hover:opacity-100 group-hover:translate-x-1"
          />
        </div>
      </div>
    </div>
  </a>
</article>
