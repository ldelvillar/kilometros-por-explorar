<section class="relative h-[100dvh] overflow-hidden">
  <div
    id="hero-bg"
    class="absolute inset-0 bg-[url(/images/hero.webp)] bg-cover bg-center will-change-transform"
    style="transform: translateY(0px);"
  >
  </div>
  <div class="absolute inset-0 bg-black/40"></div>
  <div
    id="hero-content"
    class="absolute inset-0 flex flex-col items-center justify-center px-8 text-center text-white will-change-transform"
  >
    <div class="max-w-2xl space-y-4">
      <h1 class="text-5xl leading-tight font-extrabold tracking-tight">
        Tu viaje de ensueño, planificado al milímetro
      </h1>
      <p class="max-w-3xl text-lg leading-relaxed">
        Planificamos tu experiencia de viaje ideal, adaptada a tus deseos únicos
        y presupuesto.
      </p>
    </div>
    <a
      href="/contacto"
      class="bg-primary hover:bg-primary/90 mt-8 rounded-xl px-6 py-3 font-bold text-white transition duration-300"
    >
      Planifica tu Viaje
    </a>
  </div>
</section>

<script>
  // Parallax effect on scroll
  let ticking = false;

  function updateParallax() {
    const heroBg = document.getElementById('hero-bg');
    const heroContent = document.getElementById('hero-content');
    const scrolled = window.scrollY;

    if (heroBg) {
      // Move background slower than scroll (parallax effect)
      heroBg.style.transform = `translateY(${scrolled * 0.5}px)`;
    }

    if (heroContent) {
      // Move content slightly for depth effect
      heroContent.style.transform = `translateY(${scrolled * 0.3}px)`;

      // Optional: fade out content as user scrolls
      const opacity = Math.max(0, 1 - scrolled / 500);
      heroContent.style.opacity = `${opacity}`;
    }

    ticking = false;
  }

  function requestTick() {
    if (!ticking) {
      requestAnimationFrame(updateParallax);
      ticking = true;
    }
  }

  // Add scroll event listener
  window.addEventListener('scroll', requestTick, { passive: true });

  // Clean up on page unload
  document.addEventListener('astro:before-swap', () => {
    window.removeEventListener('scroll', requestTick);
  });
</script>
